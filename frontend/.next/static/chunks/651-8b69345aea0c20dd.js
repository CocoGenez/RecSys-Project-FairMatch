"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{3440:function(e,t,s){s.d(t,{Z:function(){return c}});var a=s(7437),r=s(8614),l=s(1840),n=s(2489);let i=(0,s(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var o=s(8736);function c(e){let{candidate:t,isOpen:s,onClose:c}=e;return t?(0,a.jsx)(r.M,{children:s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 bg-black/80 z-50 backdrop-blur-sm"}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-4 md:inset-8 bg-white rounded-3xl shadow-2xl z-50 overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["CV de ",t.firstName," ",t.lastName]}),(0,a.jsx)("p",{className:"text-gray-600",children:t.email})]}),(0,a.jsx)(l.E.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:c,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(n.Z,{className:"w-6 h-6 text-gray-600"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:"pdf"===t.cvType&&t.cvPdfUrl?(0,a.jsxs)("div",{className:"h-full",children:[(0,a.jsx)("iframe",{src:t.cvPdfUrl,className:"w-full h-full min-h-[600px] rounded-xl border border-gray-200",title:"CV PDF"}),(0,a.jsx)("div",{className:"mt-4 flex justify-center",children:(0,a.jsxs)(l.E.a,{href:t.cvPdfUrl,download:!0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),"T\xe9l\xe9charger le CV"]})})]}):t.cvFormData?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Informations personnelles"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Nom complet"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-800",children:[t.firstName," ",t.lastName]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:t.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Localisation"}),(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:t.location})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Comp\xe9tences"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.skills.map((e,t)=>(0,a.jsx)("span",{className:"px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full font-medium",children:e},t))})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Qualit\xe9s"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.qualities.map((e,t)=>(0,a.jsx)("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full font-medium",children:e},t))})]}),t.cvFormData.experiences.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Exp\xe9riences professionnelles"}),(0,a.jsx)("div",{className:"space-y-4",children:t.cvFormData.experiences.map((e,t)=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"Poste : "}),(0,a.jsx)("span",{className:"text-lg font-bold text-gray-800",children:e.position||"Non sp\xe9cifi\xe9"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"Entreprise : "}),(0,a.jsx)("span",{className:"text-purple-600 font-semibold",children:e.company||"Non sp\xe9cifi\xe9"})]}),e.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"Missions : "}),(0,a.jsx)("span",{className:"text-gray-700",children:e.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"P\xe9riode : "}),(0,a.jsxs)("span",{className:"text-gray-700",children:[e.startDate||"Non sp\xe9cifi\xe9"," - ",e.endDate||(e.current?"Pr\xe9sent":"Non sp\xe9cifi\xe9")]})]})]})},t))})]}),t.cvFormData.education.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Formation"}),(0,a.jsx)("div",{className:"space-y-4",children:t.cvFormData.education.map((e,t)=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"Dipl\xf4me : "}),(0,a.jsx)("span",{className:"text-lg font-bold text-gray-800",children:e.degree||"Non sp\xe9cifi\xe9"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"\xc9tablissement : "}),(0,a.jsx)("span",{className:"text-purple-600 font-semibold",children:e.school||"Non sp\xe9cifi\xe9"})]}),e.field&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"Description : "}),(0,a.jsx)("span",{className:"text-gray-700",children:e.field})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"P\xe9riode : "}),(0,a.jsxs)("span",{className:"text-gray-700",children:[e.startDate||"Non sp\xe9cifi\xe9"," - ",e.endDate||(e.current?"Pr\xe9sent":"Non sp\xe9cifi\xe9")]})]})]})},t))})]}),t.cvFormData.languages&&t.cvFormData.languages.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Langues"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.cvFormData.languages.map((e,t)=>{let s="string"==typeof e?e:e.name,r="string"==typeof e?null:e.level;return(0,a.jsxs)("span",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-full font-medium",children:[s,r&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-green-600",children:["(",{beginner:"D\xe9butant",intermediate:"Interm\xe9diaire",advanced:"Avanc\xe9",fluent:"Courant",native:"Natif"}[r],")"]})]},t)})})]}),t.cvFormData.certifications&&t.cvFormData.certifications.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Certifications"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.cvFormData.certifications.map((e,t)=>(0,a.jsx)("span",{className:"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-full font-medium",children:e},t))})]}),t.bio&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\xc0 propos"}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.bio})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Aucun CV disponible"})]})})})]})]})}):null}},4210:function(e,t,s){s.d(t,{H:function(){return i},a:function(){return o}});var a=s(7437),r=s(2265),l=s(257);let n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e)),c(!1)},[]);let d=async(e,t)=>{try{let s=await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!s.ok)return console.error("Login failed:",await s.text()),!1;let a=await s.json(),r={id:a.id.toString(),email:a.email,role:a.role};return i(r),localStorage.setItem("user",JSON.stringify(r)),!0}catch(e){return console.error("An error occurred during login:",e),!1}},x=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jobseeker";try{let a=await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:s})});if(!a.ok)return console.error("Registration failed:",await a.text()),!1;let r=await a.json(),n={id:r.id.toString(),email:r.email,role:r.role};return i(n),localStorage.setItem("user",JSON.stringify(n)),!0}catch(e){return console.error("An error occurred during registration:",e),!1}};return(0,a.jsx)(n.Provider,{value:{user:s,loading:o,login:d,register:x,logout:()=>{i(null),localStorage.removeItem("user")},setUserRole:e=>{if(s){let t={...s,role:e};i(t),localStorage.setItem("user",JSON.stringify(t));let a=JSON.parse(localStorage.getItem("users")||"[]"),r=a.findIndex(e=>e.id===s.id);-1!==r&&(a[r].role=e,localStorage.setItem("users",JSON.stringify(a)))}}},children:t})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3422:function(e,t,s){s.d(t,{Cq:function(){return o},D3:function(){return u},Fi:function(){return p},Fw:function(){return i},Ly:function(){return c},V4:function(){return x},a3:function(){return d},l0:function(){return n}});let a="fairmatch_candidates",r="fairmatch_jobs",l="fairmatch_swipes";function n(e){let t=i(),s={...e,id:Date.now().toString(),createdAt:Date.now()};return t.push(s),localStorage.setItem(a,JSON.stringify(t)),s}function i(){return JSON.parse(localStorage.getItem(a)||"[]")}function o(e){let t=c(),s={...e,requiredQualities:e.requiredQualities||[],id:Date.now().toString(),createdAt:Date.now()};return t.push(s),localStorage.setItem(r,JSON.stringify(t)),s}function c(){return JSON.parse(localStorage.getItem(r)||"[]").map(e=>({...e,requiredQualities:e.requiredQualities||[]}))}function d(e){return c().filter(t=>t.recruiterId===e)}function x(e){let t=m(),s={...e,timestamp:Date.now()},a=t.findIndex(t=>t.userId===e.userId&&t.itemId===e.itemId&&t.type===e.type);return -1!==a?t[a]=s:t.push(s),localStorage.setItem(l,JSON.stringify(t)),s}function m(){return JSON.parse(localStorage.getItem(l)||"[]")}function u(e,t){return m().filter(s=>s.userId===e&&s.type===t&&"like"===s.action).map(e=>e.itemId)}function p(e,t){return m().filter(s=>s.userId===e&&s.type===t&&"pass"===s.action).map(e=>e.itemId)}},8736:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}}]);