(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{794:function(e,t,r){Promise.resolve().then(r.bind(r,7425))},7425:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),l=r(2265),s=r(9376),i=r(4210),n=r(1840),o=r(2660),d=r(8736),c=r(2369),u=r(9397),p=r(3229),x=r(3422);function m(){let e=(0,s.useRouter)(),{user:t}=(0,i.a)(),[r,m]=(0,l.useState)("form"),[h,f]=(0,l.useState)({firstName:"",lastName:"",email:"",photo:"",location:"",bio:"",skills:[],qualities:[],cvPdfUrl:"",experiences:[],education:[],languages:[],certifications:[]}),[g,b]=(0,l.useState)(""),[y,v]=(0,l.useState)(""),[j,N]=(0,l.useState)(""),[w,k]=(0,l.useState)("intermediate"),[C,S]=(0,l.useState)(""),[D,E]=(0,l.useState)(!1),[I,q]=(0,l.useState)(""),P=(e,t)=>{f({...h,experiences:h.experiences.map(r=>r.id===e?{...r,...t}:r)})},A=e=>{f({...h,experiences:h.experiences.filter(t=>t.id!==e)})},Z=(e,t)=>{f({...h,education:h.education.map(r=>r.id===e?{...r,...t}:r)})},H=e=>{f({...h,education:h.education.filter(t=>t.id!==e)})},T=async a=>{if(a.preventDefault(),q(""),!t||"jobseeker"!==t.role){q("Vous devez \xeatre connect\xe9 en tant que candidat");return}if(!h.firstName||!h.lastName||!h.email){q("Veuillez remplir les informations personnelles");return}if("pdf"===r&&!h.cvPdfUrl){q("Veuillez importer un CV PDF");return}if("form"===r&&0===h.skills.length){q("Veuillez ajouter au moins une comp\xe9tence");return}E(!0);try{let a={userId:t.id,firstName:h.firstName,lastName:h.lastName,email:h.email,photo:h.photo||void 0,location:h.location||"Non sp\xe9cifi\xe9",bio:h.bio||"",skills:h.skills,qualities:h.qualities,cvType:r,cvPdfUrl:"pdf"===r?h.cvPdfUrl:void 0,cvFormData:"form"===r?{experiences:h.experiences,education:h.education,languages:h.languages.length>0?h.languages:void 0,certifications:h.certifications.length>0?h.certifications:void 0}:void 0};(0,x.l0)(a),e.push("/jobseeker/swipe")}catch(e){q("Une erreur est survenue lors de la cr\xe9ation du profil")}finally{E(!1)}};return(0,a.jsx)("div",{className:"min-h-screen p-4",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.back(),className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",children:(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Ajouter mon CV"})]}),(0,a.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Type de CV"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m("pdf"),className:"p-6 rounded-xl border-2 transition-all ".concat("pdf"===r?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"),children:[(0,a.jsx)(d.Z,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),(0,a.jsx)("p",{className:"font-semibold",children:"Importer un PDF"})]}),(0,a.jsxs)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m("form"),className:"p-6 rounded-xl border-2 transition-all ".concat("form"===r?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"),children:[(0,a.jsx)(c.Z,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),(0,a.jsx)("p",{className:"font-semibold",children:"Remplir un formulaire"})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Informations personnelles"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pr\xe9nom ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:h.firstName,onChange:e=>f({...h,firstName:e.target.value}),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:h.lastName,onChange:e=>f({...h,lastName:e.target.value}),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"email",value:h.email,onChange:e=>f({...h,email:e.target.value}),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation"}),(0,a.jsx)("input",{type:"text",value:h.location,onChange:e=>f({...h,location:e.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ex: Paris, France"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r&&r.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;f({...h,photo:r})},e.readAsDataURL(r)}else alert("Veuillez s\xe9lectionner un fichier image (JPG, PNG, etc.)")},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"}),h.photo&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("img",{src:h.photo,alt:"Aper\xe7u",className:"w-24 h-24 rounded-full object-cover border-2 border-purple-200"}),(0,a.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"✓ Photo import\xe9e avec succ\xe8s"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc0 propos"}),(0,a.jsx)("textarea",{value:h.bio,onChange:e=>f({...h,bio:e.target.value}),rows:4,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all resize-none",placeholder:"D\xe9crivez-vous en quelques lignes..."})]})]}),"pdf"===r?(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Importer votre CV"}),(0,a.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r&&"application/pdf"===r.type){let e=new FileReader;e.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;f({...h,cvPdfUrl:r})},e.readAsDataURL(r)}},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"}),h.cvPdfUrl&&(0,a.jsx)("p",{className:"mt-4 text-green-600 font-semibold",children:"✓ CV import\xe9 avec succ\xe8s"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Comp\xe9tences et qualit\xe9s"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comp\xe9tences"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),g.trim()&&!h.skills.includes(g.trim())&&(f({...h,skills:[...h.skills,g.trim()]}),b("")))},className:"flex-1 px-4 py-2 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ajoutez une comp\xe9tence..."}),(0,a.jsx)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{g.trim()&&!h.skills.includes(g.trim())&&(f({...h,skills:[...h.skills,g.trim()]}),b(""))},className:"px-4 py-2 bg-purple-500 text-white rounded-xl font-semibold",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})]}),h.skills.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:h.skills.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full text-sm font-medium",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>f({...h,skills:h.skills.filter(t=>t!==e)}),className:"hover:text-red-600",children:"\xd7"})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualit\xe9s"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),y.trim()&&!h.qualities.includes(y.trim())&&(f({...h,qualities:[...h.qualities,y.trim()]}),v("")))},className:"flex-1 px-4 py-2 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ajoutez une qualit\xe9..."}),(0,a.jsx)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{y.trim()&&!h.qualities.includes(y.trim())&&(f({...h,qualities:[...h.qualities,y.trim()]}),v(""))},className:"px-4 py-2 bg-blue-500 text-white rounded-xl font-semibold",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})]}),h.qualities.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:h.qualities.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>f({...h,qualities:h.qualities.filter(t=>t!==e)}),className:"hover:text-red-600",children:"\xd7"})]},e))})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Exp\xe9riences professionnelles"}),(0,a.jsxs)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{let e={id:Date.now().toString(),company:"",position:"",startDate:"",endDate:"",description:"",current:!1};f({...h,experiences:[...h.experiences,e]})},className:"px-4 py-2 bg-purple-500 text-white rounded-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Ajouter"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:h.experiences.map(e=>(0,a.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Poste",value:e.position,onChange:t=>P(e.id,{position:t.target.value}),className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsx)("input",{type:"text",placeholder:"Entreprise",value:e.company,onChange:t=>P(e.id,{company:t.target.value}),className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsx)("input",{type:"date",value:e.startDate,onChange:t=>P(e.id,{startDate:t.target.value}),className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"date",value:e.endDate||"",onChange:t=>P(e.id,{endDate:t.target.value,current:!t.target.value}),disabled:e.current,className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.current,onChange:t=>P(e.id,{current:t.target.checked,endDate:t.target.checked?"":e.endDate})}),"Actuel"]})]})]}),(0,a.jsx)("textarea",{placeholder:"Description",value:e.description,onChange:t=>P(e.id,{description:t.target.value}),rows:3,className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none resize-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>A(e.id),className:"text-red-600 hover:text-red-800 text-sm font-semibold",children:"Supprimer"})]},e.id))})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Formation"}),(0,a.jsxs)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{let e={id:Date.now().toString(),school:"",degree:"",field:"",startDate:"",endDate:"",current:!1};f({...h,education:[...h.education,e]})},className:"px-4 py-2 bg-purple-500 text-white rounded-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Ajouter"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:h.education.map(e=>(0,a.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Dipl\xf4me",value:e.degree,onChange:t=>Z(e.id,{degree:t.target.value}),className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsx)("input",{type:"text",placeholder:"\xc9cole/Universit\xe9",value:e.school,onChange:t=>Z(e.id,{school:t.target.value}),className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsx)("textarea",{placeholder:"Description",value:e.field,onChange:t=>Z(e.id,{field:t.target.value}),rows:2,className:"px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none resize-none"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"date",value:e.startDate,onChange:t=>Z(e.id,{startDate:t.target.value}),className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none"}),(0,a.jsx)("input",{type:"date",value:e.endDate||"",onChange:t=>Z(e.id,{endDate:t.target.value,current:!t.target.value}),disabled:e.current,className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm whitespace-nowrap",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.current,onChange:t=>Z(e.id,{current:t.target.checked,endDate:t.target.checked?"":e.endDate})}),"Actuel"]})]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>H(e.id),className:"text-red-600 hover:text-red-800 text-sm font-semibold",children:"Supprimer"})]},e.id))})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Langues"}),(0,a.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none",placeholder:"Ajouter une langue..."}),(0,a.jsx)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j.trim()&&!h.languages.some(e=>e.name===j.trim())&&(f({...h,languages:[...h.languages,{name:j.trim(),level:w}]}),N(""),k("intermediate"))},className:"px-3 py-2 bg-green-500 text-white rounded-lg flex-shrink-0",children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none bg-white",children:[(0,a.jsx)("option",{value:"beginner",children:"D\xe9butant"}),(0,a.jsx)("option",{value:"intermediate",children:"Interm\xe9diaire"}),(0,a.jsx)("option",{value:"advanced",children:"Avanc\xe9"}),(0,a.jsx)("option",{value:"fluent",children:"Courant"}),(0,a.jsx)("option",{value:"native",children:"Natif"})]})]}),h.languages.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:h.languages.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[e.name," ",(0,a.jsxs)("span",{className:"text-xs text-green-600",children:["(",{beginner:"D\xe9butant",intermediate:"Interm\xe9diaire",advanced:"Avanc\xe9",fluent:"Courant",native:"Natif"}[e.level],")"]}),(0,a.jsx)("button",{type:"button",onClick:()=>f({...h,languages:h.languages.filter((e,r)=>r!==t)}),className:"hover:text-red-600 ml-1",children:"\xd7"})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Certifications"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),C.trim()&&!h.certifications.includes(C.trim())&&(f({...h,certifications:[...h.certifications,C.trim()]}),S("")))},className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:outline-none",placeholder:"Ajouter une certification..."}),(0,a.jsx)(n.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{C.trim()&&!h.certifications.includes(C.trim())&&(f({...h,certifications:[...h.certifications,C.trim()]}),S(""))},className:"px-3 py-2 bg-yellow-500 text-white rounded-lg",children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]}),h.certifications.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:h.certifications.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>f({...h,certifications:h.certifications.filter(t=>t!==e)}),className:"hover:text-red-600",children:"\xd7"})]},e))})]})]})})]}),I&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:I}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex gap-4",children:[(0,a.jsx)(n.E.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e.back(),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Annuler"}),(0,a.jsxs)(n.E.button,{type:"submit",disabled:D,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-6 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),D?"Cr\xe9ation...":"Cr\xe9er mon profil"]})]})]})]})})}},4210:function(e,t,r){"use strict";r.d(t,{H:function(){return n},a:function(){return o}});var a=r(7437),l=r(2265),s=r(257);let i=(0,l.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,l.useState)(null),[o,d]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=localStorage.getItem("user");e&&n(JSON.parse(e)),d(!1)},[]);let c=async(e,t)=>{try{let r=await fetch("".concat(s.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)return console.error("Login failed:",await r.text()),!1;let a=await r.json(),l={id:a.id.toString(),email:a.email,role:a.role};return n(l),localStorage.setItem("user",JSON.stringify(l)),!0}catch(e){return console.error("An error occurred during login:",e),!1}},u=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jobseeker";try{let a=await fetch("".concat(s.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:r})});if(!a.ok)return console.error("Registration failed:",await a.text()),!1;let l=await a.json(),i={id:l.id.toString(),email:l.email,role:l.role};return n(i),localStorage.setItem("user",JSON.stringify(i)),!0}catch(e){return console.error("An error occurred during registration:",e),!1}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:o,login:c,register:u,logout:()=>{n(null),localStorage.removeItem("user")},setUserRole:e=>{if(r){let t={...r,role:e};n(t),localStorage.setItem("user",JSON.stringify(t));let a=JSON.parse(localStorage.getItem("users")||"[]"),l=a.findIndex(e=>e.id===r.id);-1!==l&&(a[l].role=e,localStorage.setItem("users",JSON.stringify(a)))}}},children:t})}function o(){let e=(0,l.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3422:function(e,t,r){"use strict";r.d(t,{Cq:function(){return o},D3:function(){return x},Fi:function(){return m},Fw:function(){return n},Ly:function(){return d},V4:function(){return u},a3:function(){return c},l0:function(){return i}});let a="fairmatch_candidates",l="fairmatch_jobs",s="fairmatch_swipes";function i(e){let t=n(),r={...e,id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(a,JSON.stringify(t)),r}function n(){return JSON.parse(localStorage.getItem(a)||"[]")}function o(e){let t=d(),r={...e,requiredQualities:e.requiredQualities||[],id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(l,JSON.stringify(t)),r}function d(){return JSON.parse(localStorage.getItem(l)||"[]").map(e=>({...e,requiredQualities:e.requiredQualities||[]}))}function c(e){return d().filter(t=>t.recruiterId===e)}function u(e){let t=p(),r={...e,timestamp:Date.now()},a=t.findIndex(t=>t.userId===e.userId&&t.itemId===e.itemId&&t.type===e.type);return -1!==a?t[a]=r:t.push(r),localStorage.setItem(s,JSON.stringify(t)),r}function p(){return JSON.parse(localStorage.getItem(s)||"[]")}function x(e,t){return p().filter(r=>r.userId===e&&r.type===t&&"like"===r.action).map(e=>e.itemId)}function m(e,t){return p().filter(r=>r.userId===e&&r.type===t&&"pass"===r.action).map(e=>e.itemId)}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3229:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[229,971,117,744],function(){return e(e.s=794)}),_N_E=e.O()}]);