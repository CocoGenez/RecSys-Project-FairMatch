(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{5296:function(e,t,r){Promise.resolve().then(r.bind(r,713))},713:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var i=r(7437),a=r(2265),l=r(9376),n=r(4210),o=r(1840),s=r(2660),u=r(9205);let d=(0,u.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var c=r(8736);let p=(0,u.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var m=r(3229),x=r(3422);let h=["autonome","rigoureux","communication","team-work","leadership","cr\xe9atif","analytique","organis\xe9","flexible","proactif","motiv\xe9","curieux","adaptable","r\xe9silient","empathique","d\xe9termin\xe9","innovant","collaboratif","efficace","m\xe9thodique","pers\xe9v\xe9rant","optimiste","diplomate","dynamique","s\xe9rieux","polyvalent","ambitieux","patient","r\xe9actif","strat\xe9gique"];function f(){let e=(0,l.useRouter)(),{user:t}=(0,n.a)(),[r,u]=(0,a.useState)({title:"",company:"",location:"",objectives:"",startDate:"",requiredQualities:[],descriptionType:"text",description:"",documentUrl:"",documentName:"",externalLink:""}),[f,y]=(0,a.useState)(""),[b,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(""),q=function(e){if(!e.trim())return h;let t=e.toLowerCase().trim();return h.filter(e=>e.toLowerCase().includes(t))}(f),T=e=>{r.requiredQualities.includes(e)||u({...r,requiredQualities:[...r.requiredQualities,e]}),y(""),g(!1)},C=()=>{v.trim()&&!r.requiredQualities.includes(v.trim())&&(u({...r,requiredQualities:[...r.requiredQualities,v.trim()]}),j(""))},I=e=>{u({...r,requiredQualities:r.requiredQualities.filter(t=>t!==e)})},E=async i=>{if(i.preventDefault(),S(""),!t||"recruiter"!==t.role){S("Vous devez \xeatre connect\xe9 en tant que recruteur");return}if(!r.title||!r.objectives||!r.startDate){S("Veuillez remplir tous les champs obligatoires");return}if(0===r.requiredQualities.length){S("Veuillez ajouter au moins une qualit\xe9 requise");return}w(!0);try{let i={recruiterId:t.id,title:r.title,company:r.company||"Entreprise",location:r.location||"Non sp\xe9cifi\xe9",objectives:r.objectives,startDate:r.startDate,requiredQualities:r.requiredQualities,descriptionType:r.descriptionType,description:"text"===r.descriptionType?r.description:void 0,documentUrl:"document"===r.descriptionType?r.documentUrl:void 0,documentName:"document"===r.descriptionType?r.documentName:void 0,externalLink:"link"===r.descriptionType?r.externalLink:void 0};(0,x.Cq)(i),e.push("/recruiter/jobs")}catch(e){S("Une erreur est survenue lors de la cr\xe9ation de l'offre")}finally{w(!1)}};return(0,i.jsx)("div",{className:"min-h-screen p-4",children:(0,i.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-8",children:[(0,i.jsx)(o.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.back(),className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",children:(0,i.jsx)(s.Z,{className:"w-5 h-5 text-gray-600"})}),(0,i.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Ajouter une offre d'emploi"})]}),(0,i.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Informations g\xe9n\xe9rales"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Intitul\xe9 du poste ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"text",value:r.title,onChange:e=>u({...r,title:e.target.value}),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ex: D\xe9veloppeur Full-Stack React/Node.js"})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entreprise"}),(0,i.jsx)("input",{type:"text",value:r.company,onChange:e=>u({...r,company:e.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Nom de l'entreprise"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation"}),(0,i.jsx)("input",{type:"text",value:r.location,onChange:e=>u({...r,location:e.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ex: Paris, France"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Objectifs de la mission ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("textarea",{value:r.objectives,onChange:e=>u({...r,objectives:e.target.value}),required:!0,rows:4,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all resize-none",placeholder:"D\xe9crivez les objectifs principaux de la mission..."})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de d\xe9but souhait\xe9e ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"date",value:r.startDate,onChange:e=>u({...r,startDate:e.target.value}),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"})]})]})]}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Qualit\xe9s requises ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",value:f,onChange:e=>{y(e.target.value),g(!0)},onFocus:()=>g(!0),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Tapez pour filtrer les qualit\xe9s..."}),b&&q.length>0&&(0,i.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 max-h-60 overflow-y-auto",children:q.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>T(e),className:"w-full text-left px-4 py-2 hover:bg-purple-50 transition-colors",children:e},e))})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),C()),className:"flex-1 px-4 py-2 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"Ou ajoutez une qualit\xe9 personnalis\xe9e..."}),(0,i.jsx)(o.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-4 py-2 bg-purple-500 text-white rounded-xl font-semibold",children:"Ajouter"})]}),r.requiredQualities.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:r.requiredQualities.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full font-medium",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>I(e),className:"hover:text-red-600",children:"\xd7"})]},e))})]})]}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-6 border border-purple-100",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Description du poste"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,i.jsxs)(o.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u({...r,descriptionType:"text"}),className:"p-4 rounded-xl border-2 transition-all ".concat("text"===r.descriptionType?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"),children:[(0,i.jsx)(d,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),(0,i.jsx)("p",{className:"text-sm font-semibold",children:"Texte"})]}),(0,i.jsxs)(o.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u({...r,descriptionType:"document"}),className:"p-4 rounded-xl border-2 transition-all ".concat("document"===r.descriptionType?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"),children:[(0,i.jsx)(c.Z,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),(0,i.jsx)("p",{className:"text-sm font-semibold",children:"Document"})]}),(0,i.jsxs)(o.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u({...r,descriptionType:"link"}),className:"p-4 rounded-xl border-2 transition-all ".concat("link"===r.descriptionType?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"),children:[(0,i.jsx)(p,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),(0,i.jsx)("p",{className:"text-sm font-semibold",children:"Lien"})]})]}),"text"===r.descriptionType&&(0,i.jsx)("textarea",{value:r.description,onChange:e=>u({...r,description:e.target.value}),rows:8,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all resize-none",placeholder:"R\xe9digez une description compl\xe8te du poste..."}),"document"===r.descriptionType&&(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i){let e=new FileReader;e.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;u({...r,documentUrl:a,documentName:i.name})},e.readAsDataURL(i)}},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all"}),r.documentName&&(0,i.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Fichier s\xe9lectionn\xe9: ",r.documentName]})]}),"link"===r.descriptionType&&(0,i.jsx)("input",{type:"url",value:r.externalLink,onChange:e=>u({...r,externalLink:e.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none transition-all",placeholder:"https://..."})]})]}),k&&(0,i.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:k}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex gap-4",children:[(0,i.jsx)(o.E.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e.back(),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Annuler"}),(0,i.jsxs)(o.E.button,{type:"submit",disabled:N,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-6 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-5 h-5"}),N?"Cr\xe9ation...":"Cr\xe9er l'offre"]})]})]})]})})}},4210:function(e,t,r){"use strict";r.d(t,{H:function(){return o},a:function(){return s}});var i=r(7437),a=r(2265),l=r(257);let n=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[s,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&o(JSON.parse(e)),u(!1)},[]);let d=async(e,t)=>{try{let r=await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)return console.error("Login failed:",await r.text()),!1;let i=await r.json(),a={id:i.id.toString(),email:i.email,role:i.role};return o(a),localStorage.setItem("user",JSON.stringify(a)),!0}catch(e){return console.error("An error occurred during login:",e),!1}},c=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jobseeker";try{let i=await fetch("".concat(l.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:r})});if(!i.ok)return console.error("Registration failed:",await i.text()),!1;let a=await i.json(),n={id:a.id.toString(),email:a.email,role:a.role};return o(n),localStorage.setItem("user",JSON.stringify(n)),!0}catch(e){return console.error("An error occurred during registration:",e),!1}};return(0,i.jsx)(n.Provider,{value:{user:r,loading:s,login:d,register:c,logout:()=>{o(null),localStorage.removeItem("user")},setUserRole:e=>{if(r){let t={...r,role:e};o(t),localStorage.setItem("user",JSON.stringify(t));let i=JSON.parse(localStorage.getItem("users")||"[]"),a=i.findIndex(e=>e.id===r.id);-1!==a&&(i[a].role=e,localStorage.setItem("users",JSON.stringify(i)))}}},children:t})}function s(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3422:function(e,t,r){"use strict";r.d(t,{Cq:function(){return s},D3:function(){return m},Fi:function(){return x},Fw:function(){return o},Ly:function(){return u},V4:function(){return c},a3:function(){return d},l0:function(){return n}});let i="fairmatch_candidates",a="fairmatch_jobs",l="fairmatch_swipes";function n(e){let t=o(),r={...e,id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(i,JSON.stringify(t)),r}function o(){return JSON.parse(localStorage.getItem(i)||"[]")}function s(e){let t=u(),r={...e,requiredQualities:e.requiredQualities||[],id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(a,JSON.stringify(t)),r}function u(){return JSON.parse(localStorage.getItem(a)||"[]").map(e=>({...e,requiredQualities:e.requiredQualities||[]}))}function d(e){return u().filter(t=>t.recruiterId===e)}function c(e){let t=p(),r={...e,timestamp:Date.now()},i=t.findIndex(t=>t.userId===e.userId&&t.itemId===e.itemId&&t.type===e.type);return -1!==i?t[i]=r:t.push(r),localStorage.setItem(l,JSON.stringify(t)),r}function p(){return JSON.parse(localStorage.getItem(l)||"[]")}function m(e,t){return p().filter(r=>r.userId===e&&r.type===t&&"like"===r.action).map(e=>e.itemId)}function x(e,t){return p().filter(r=>r.userId===e&&r.type===t&&"pass"===r.action).map(e=>e.itemId)}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8736:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3229:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}},function(e){e.O(0,[229,971,117,744],function(){return e(e.s=5296)}),_N_E=e.O()}]);