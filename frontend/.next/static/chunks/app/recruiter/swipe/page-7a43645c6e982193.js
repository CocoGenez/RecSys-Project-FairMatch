(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{2657:function(e,s,t){Promise.resolve().then(t.bind(t,9280))},9280:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var a=t(7437),l=t(2265),i=t(9376),r=t(4210),n=t(1840),d=t(8614),c=t(7586),o=t(9397),h=t(8997),x=t(7692),u=t(2489),m=t(1906),p=t(3812);function f(e){let{candidate:s,onSwipe:t,index:i,onViewCV:r}=e,[d,c]=(0,l.useState)(!1),o=(0,m.c)(0),x=(0,p.H)(o,[-200,200],[-25,25]),f=(0,p.H)(o,[-200,-100,0,100,200],[0,1,1,1,0]),[b,g]=(0,l.useState)(!1);return(0,a.jsxs)(n.E.div,{style:{x:o,rotate:x,opacity:f,zIndex:10-i},drag:"x",dragConstraints:{left:-300,right:300},dragElastic:.2,onDragStart:()=>{g(!0)},onDragEnd:(e,s)=>{Math.abs(s.offset.x)>100?t(s.offset.x>0?"right":"left"):o.set(0),setTimeout(()=>g(!1),100)},whileDrag:{cursor:"grabbing"},initial:{scale:.9,y:50},animate:{scale:1,y:0},exit:{scale:.5,opacity:0,rotate:45},transition:{type:"spring",stiffness:300,damping:30},className:"absolute w-full max-w-sm h-[600px] cursor-grab active:cursor-grabbing",onClick:e=>{e.stopPropagation(),!b&&10>Math.abs(o.get())&&r(s)},children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl h-full overflow-hidden border-2 border-gray-100 flex flex-col",children:[(0,a.jsx)("div",{className:"relative h-48 bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center pt-8",children:s.photo?(0,a.jsx)("img",{src:s.photo,alt:"".concat(s.firstName," ").concat(s.lastName),className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-xl"}):(0,a.jsxs)("div",{className:"w-32 h-32 rounded-full bg-white/20 flex items-center justify-center text-white text-4xl font-bold border-4 border-white shadow-xl",children:[s.firstName[0],s.lastName[0]]})}),(0,a.jsxs)("div",{className:"flex-1 p-6 flex flex-col",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:[s.firstName," ",s.lastName]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:s.location})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide",children:"Comp\xe9tences"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[s.skills.slice(0,3).map((e,s)=>(0,a.jsx)("span",{className:"px-2.5 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full text-xs font-medium",children:e},s)),s.skills.length>3&&(0,a.jsxs)("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:["+",s.skills.length-3]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide",children:"Qualit\xe9s"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[s.qualities.slice(0,3).map((e,s)=>(0,a.jsx)("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:e},s)),s.qualities.length>3&&(0,a.jsxs)("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:["+",s.qualities.length-3]})]})]})]})]}),(0,a.jsx)(n.E.div,{className:"absolute top-4 left-4 p-3 bg-red-500 rounded-full shadow-lg z-10",style:{opacity:(0,p.H)(o,[-100,-50],[1,0]),scale:(0,p.H)(o,[-100,-50],[1,0])},children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsx)(n.E.div,{className:"absolute top-4 right-4 p-3 bg-green-500 rounded-full shadow-lg z-10",style:{opacity:(0,p.H)(o,[50,100],[0,1]),scale:(0,p.H)(o,[50,100],[0,1])},children:(0,a.jsx)(h.Z,{className:"w-6 h-6 text-white"})})]})}var b=t(3440),g=t(3422);function w(){let e=(0,i.useRouter)(),{user:s,logout:t}=(0,r.a)(),[m,p]=(0,l.useState)([]),[w,j]=(0,l.useState)(0),[N,y]=(0,l.useState)(!1),[v,k]=(0,l.useState)(null),[E,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!s){e.push("/login");return}if("recruiter"!==s.role){e.push("/");return}let t=(0,g.D3)(s.id,"candidate"),a=(0,g.Fi)(s.id,"candidate");p((0,g.Fw)().filter(e=>!t.includes(e.id)&&!a.includes(e.id)))},[s,e]);let H=e=>{if(N||w>=m.length)return;y(!0);let t=m[w];s&&t&&(0,g.V4)({userId:s.id,itemId:t.id,type:"candidate",action:"right"===e?"like":"pass"}),setTimeout(()=>{j(e=>e+1),y(!1)},300)},Z=e=>{k(e),C(!0)},T=m.slice(w,w+3);return s&&"recruiter"===s.role?(0,a.jsxs)("div",{className:"min-h-screen p-4 pb-24",children:[(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Trouvez des candidats"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.push("/recruiter/jobs"),className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Mes offres",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.push("/recruiter/add-job"),className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Ajouter un job",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.push("/recruiter/my-candidates"),className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Mes candidats",children:(0,a.jsx)(h.Z,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{t(),e.replace("/")},className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",children:(0,a.jsx)(x.Z,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,a.jsx)("div",{className:"relative h-[600px] mb-6 flex items-center justify-center",children:0===T.length?(0,a.jsx)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center bg-white rounded-3xl shadow-xl",children:(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Plus de candidats !"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous avez parcouru tous les candidats disponibles."}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e.push("/recruiter/my-candidates"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg",children:"Voir mes candidats retenus"})]})}):(0,a.jsx)(d.M,{children:T.map((e,s)=>(0,a.jsx)(f,{candidate:e,onSwipe:H,index:s,onViewCV:Z},e.id))})}),T.length>0&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center gap-6",children:[(0,a.jsx)(n.E.button,{whileHover:{scale:1.1,rotate:-10},whileTap:{scale:.9},onClick:()=>H("left"),disabled:N,className:"w-16 h-16 bg-white rounded-full shadow-xl flex items-center justify-center border-2 border-red-200 hover:border-red-400 transition-colors disabled:opacity-50",children:(0,a.jsx)(u.Z,{className:"w-8 h-8 text-red-500"})}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},onClick:()=>H("right"),disabled:N,className:"w-16 h-16 bg-white rounded-full shadow-xl flex items-center justify-center border-2 border-green-200 hover:border-green-400 transition-colors disabled:opacity-50",children:(0,a.jsx)(h.Z,{className:"w-8 h-8 text-green-500 fill-green-500"})})]})]}),(0,a.jsx)(b.Z,{candidate:v,isOpen:E,onClose:()=>C(!1)})]}):null}},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[229,761,651,971,117,744],function(){return e(e.s=2657)}),_N_E=e.O()}]);