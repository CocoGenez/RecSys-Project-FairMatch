(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{3174:function(e,t,r){Promise.resolve().then(r.bind(r,8022))},8022:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var i=r(7437),n=r(2265),a=r(9376),s=r(4210),l=r(1840),o=r(2660),c=r(9397),u=r(3422);function d(){let e=(0,a.useRouter)(),{user:t}=(0,s.a)(),[r,d]=(0,n.useState)([]);return((0,n.useEffect)(()=>{if(!t||"recruiter"!==t.role){e.push("/");return}d((0,u.a3)(t.id))},[t,e]),t&&"recruiter"===t.role)?(0,i.jsx)("div",{className:"min-h-screen p-4",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e.push("/recruiter/swipe"),className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow",children:(0,i.jsx)(o.Z,{className:"w-5 h-5 text-gray-600"})}),(0,i.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Mes offres d'emploi"})]}),(0,i.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e.push("/recruiter/add-job"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"w-5 h-5"}),"Ajouter une offre"]})]}),0===r.length?(0,i.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl p-12 text-center",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCBC"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Aucune offre cr\xe9\xe9e"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:"Cr\xe9ez votre premi\xe8re offre d'emploi pour commencer \xe0 recruter !"}),(0,i.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e.push("/recruiter/add-job"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold shadow-lg",children:"Cr\xe9er une offre"})]}):(0,i.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:r.map((e,t)=>(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},whileHover:{y:-5,scale:1.02},className:"bg-white rounded-3xl shadow-xl overflow-hidden border-2 border-blue-100",children:[(0,i.jsx)("div",{className:"relative h-32 bg-gradient-to-br from-blue-400 to-cyan-400 flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-6xl",children:"\uD83D\uDCBC"})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[(0,i.jsx)("span",{className:"font-semibold",children:e.company}),(0,i.jsx)("span",{children:"â€¢"}),(0,i.jsx)("span",{children:e.location})]}),(0,i.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed line-clamp-2",children:e.objectives}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Qualit\xe9s requises"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:e.requiredQualities&&e.requiredQualities.length>0?(0,i.jsxs)(i.Fragment,{children:[e.requiredQualities.slice(0,3).map((e,t)=>(0,i.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-700 rounded-full text-sm font-medium",children:e},t)),e.requiredQualities.length>3&&(0,i.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:["+",e.requiredQualities.length-3]})]}):(0,i.jsx)("span",{className:"text-gray-500 text-sm",children:"Aucune qualit\xe9 sp\xe9cifi\xe9e"})})]})]})]},e.id))})]})}):null}},4210:function(e,t,r){"use strict";r.d(t,{H:function(){return l},a:function(){return o}});var i=r(7437),n=r(2265),a=r(257);let s=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&l(JSON.parse(e)),c(!1)},[]);let u=async(e,t)=>{try{let r=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)return console.error("Login failed:",await r.text()),!1;let i=await r.json(),n={id:i.id.toString(),email:i.email,role:i.role};return l(n),localStorage.setItem("user",JSON.stringify(n)),!0}catch(e){return console.error("An error occurred during login:",e),!1}},d=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jobseeker";try{let i=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:r})});if(!i.ok)return console.error("Registration failed:",await i.text()),!1;let n=await i.json(),s={id:n.id.toString(),email:n.email,role:n.role};return l(s),localStorage.setItem("user",JSON.stringify(s)),!0}catch(e){return console.error("An error occurred during registration:",e),!1}};return(0,i.jsx)(s.Provider,{value:{user:r,loading:o,login:u,register:d,logout:()=>{l(null),localStorage.removeItem("user")},setUserRole:e=>{if(r){let t={...r,role:e};l(t),localStorage.setItem("user",JSON.stringify(t));let i=JSON.parse(localStorage.getItem("users")||"[]"),n=i.findIndex(e=>e.id===r.id);-1!==n&&(i[n].role=e,localStorage.setItem("users",JSON.stringify(i)))}}},children:t})}function o(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3422:function(e,t,r){"use strict";r.d(t,{Cq:function(){return o},D3:function(){return f},Fi:function(){return h},Fw:function(){return l},Ly:function(){return c},V4:function(){return d},a3:function(){return u},l0:function(){return s}});let i="fairmatch_candidates",n="fairmatch_jobs",a="fairmatch_swipes";function s(e){let t=l(),r={...e,id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(i,JSON.stringify(t)),r}function l(){return JSON.parse(localStorage.getItem(i)||"[]")}function o(e){let t=c(),r={...e,requiredQualities:e.requiredQualities||[],id:Date.now().toString(),createdAt:Date.now()};return t.push(r),localStorage.setItem(n,JSON.stringify(t)),r}function c(){return JSON.parse(localStorage.getItem(n)||"[]").map(e=>({...e,requiredQualities:e.requiredQualities||[]}))}function u(e){return c().filter(t=>t.recruiterId===e)}function d(e){let t=m(),r={...e,timestamp:Date.now()},i=t.findIndex(t=>t.userId===e.userId&&t.itemId===e.itemId&&t.type===e.type);return -1!==i?t[i]=r:t.push(r),localStorage.setItem(a,JSON.stringify(t)),r}function m(){return JSON.parse(localStorage.getItem(a)||"[]")}function f(e,t){return m().filter(r=>r.userId===e&&r.type===t&&"like"===r.action).map(e=>e.itemId)}function h(e,t){return m().filter(r=>r.userId===e&&r.type===t&&"pass"===r.action).map(e=>e.itemId)}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[229,971,117,744],function(){return e(e.s=3174)}),_N_E=e.O()}]);