(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{162:function(e,t,r){Promise.resolve().then(r.bind(r,1326))},1326:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var i=r(7437),s=r(9376),n=r(4210),a=r(1840),o=r(2023),l=r(3389),c=r(1150),d=r(2265);function u(){let e=(0,s.useRouter)(),{user:t,setUserRole:r}=(0,n.a)();(0,d.useEffect)(()=>{t?t.role&&e.push("/swipe"):e.push("/login")},[t,e]);let u=t=>{r(t),e.push("/swipe")};return(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,i.jsxs)(a.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-4xl",children:[(0,i.jsxs)("div",{className:"text-center mb-12",children:[(0,i.jsx)(a.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl mb-6 shadow-lg",children:(0,i.jsx)(o.Z,{className:"w-12 h-12 text-white"})}),(0,i.jsx)(a.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Choisissez votre r\xf4le"}),(0,i.jsx)(a.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-xl text-gray-600",children:"Comment souhaitez-vous utiliser FairMatch ?"})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,i.jsx)(a.E.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-10},whileTap:{scale:.95},onClick:()=>u("recruiter"),className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 border-2 border-purple-200 cursor-pointer shadow-xl hover:shadow-2xl transition-all duration-300 group",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,i.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6 group-hover:rotate-12 transition-transform duration-300 shadow-lg",children:(0,i.jsx)(l.Z,{className:"w-12 h-12 text-white"})}),(0,i.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Recruteur"}),(0,i.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"Trouvez les meilleurs candidats pour votre entreprise. Swipez \xe0 droite sur les profils qui vous int\xe9ressent !"}),(0,i.jsxs)("div",{className:"flex items-center text-purple-600 font-semibold group-hover:text-purple-700",children:["Commencer",(0,i.jsx)(a.E.span,{animate:{x:[0,5,0]},transition:{repeat:1/0,duration:1.5},className:"ml-2",children:"→"})]})]})}),(0,i.jsx)(a.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-10},whileTap:{scale:.95},onClick:()=>u("jobseeker"),className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 border-2 border-pink-200 cursor-pointer shadow-xl hover:shadow-2xl transition-all duration-300 group",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,i.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-pink-500 to-rose-500 rounded-2xl flex items-center justify-center mb-6 group-hover:rotate-12 transition-transform duration-300 shadow-lg",children:(0,i.jsx)(c.Z,{className:"w-12 h-12 text-white"})}),(0,i.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Rechercheur d'emploi"}),(0,i.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"D\xe9couvrez des offres d'emploi qui correspondent \xe0 vos comp\xe9tences. Swipez \xe0 droite sur celles qui vous plaisent !"}),(0,i.jsxs)("div",{className:"flex items-center text-pink-600 font-semibold group-hover:text-pink-700",children:["Commencer",(0,i.jsx)(a.E.span,{animate:{x:[0,5,0]},transition:{repeat:1/0,duration:1.5},className:"ml-2",children:"→"})]})]})})]})]})})}},4210:function(e,t,r){"use strict";r.d(t,{H:function(){return o},a:function(){return l}});var i=r(7437),s=r(2265),n=r(257);let a=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("user");e&&o(JSON.parse(e)),c(!1)},[]);let d=async(e,t)=>{try{let r=await fetch("".concat(n.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)return console.error("Login failed:",await r.text()),!1;let i=await r.json(),s={id:i.id.toString(),email:i.email,role:i.role};return o(s),localStorage.setItem("user",JSON.stringify(s)),!0}catch(e){return console.error("An error occurred during login:",e),!1}},u=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jobseeker";try{let i=await fetch("".concat(n.env.NEXT_PUBLIC_API_URL||"http://localhost:8000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:r})});if(!i.ok)return console.error("Registration failed:",await i.text()),!1;let s=await i.json(),a={id:s.id.toString(),email:s.email,role:s.role};return o(a),localStorage.setItem("user",JSON.stringify(a)),!0}catch(e){return console.error("An error occurred during registration:",e),!1}};return(0,i.jsx)(a.Provider,{value:{user:r,loading:l,login:d,register:u,logout:()=>{o(null),localStorage.removeItem("user")},setUserRole:e=>{if(r){let t={...r,role:e};o(t),localStorage.setItem("user",JSON.stringify(t));let i=JSON.parse(localStorage.getItem("users")||"[]"),s=i.findIndex(e=>e.id===r.id);-1!==s&&(i[s].role=e,localStorage.setItem("users",JSON.stringify(i)))}}},children:t})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3389:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},2023:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},1150:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=(0,r(9205).Z)("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]])}},function(e){e.O(0,[229,971,117,744],function(){return e(e.s=162)}),_N_E=e.O()}]);